<%@page import="javax.naming.InitialContext"%>
<%@page import="java.sql.PreparedStatement"%>
<%@page import="java.sql.Connection"%>
<%@page import="javax.sql.DataSource"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
    
    
    <%
    	String idValue = request.getParameter("id");
    
    DataSource dataSource;
    Connection conn = null;
    PreparedStatement pstmtItem = null;
    PreparedStatement pstmtDetail = null;
    
    Throwable occuredException = null;
    
    try{
    	int id = Integer.parseInt(idValue);
    	
    	Context context = new InitialContext();
    	dataSource = (DataSource)context.lookup("java:comp/env/jdbc_mariadb");
    	conn = dataSource.getConnection();
    	if(conn == null){
    		throw new Exception("데이터베이스에 연결 할 수 없습니다. <br>");
    	}
    	conn.setAutoCommit(false);
    	
    	pstmtItem = conn.prepareStatement("insert into member1(mem_userid, mem_name, mem_pwd)");
    	pstmtItem.setString(1, "red");
    	pstmtItem.setString(2, "레드");
    	pstmtItem.setString(3, "red");
    	pstmtItem.setString(4, "red");
    	pstmtItem.setString(5, "red");
    	pstmtItem.setString(1, "red");
    	
    	
    }
    
    
    
    %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

</body>
</html>